# -*- coding: utf-8 -*-
"""esp-app.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/10xbbGETrlnU2lGAQDzAvIHvKm_y7r1cw
"""

import streamlit as st
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

st.set_page_config(page_title="Salary Predictor ğŸ’¼", page_icon="ğŸ“Š", layout="centered")

st.markdown("""
    <h1 style='color:#4CAF50;'>Employee Salary Predictor ğŸ’°</h1>
    <h4 style='color:#555;'>Estimate salary based on job profile, education & experience</h4>
    <hr style='border:1px solid #eee' />
""", unsafe_allow_html=True)

col1, col2 = st.columns(2)

with col1:
    education = st.selectbox("ğŸ“ Education Level", ['Bachelors', 'Masters', 'PhD'])

with col2:
    job_title = st.selectbox("ğŸ’¼ Job Title", ['Software Engineer', 'Data Scientist', 'HR Manager', 'Sales Associate'])

experience = st.slider("ğŸ“… Years of Experience", 0, 40, step=1)

# âœ… Move this OUTSIDE the button so it's available globally
base_salary = {
    'Software Engineer': 60000,
    'Data Scientist': 70000,
    'HR Manager': 50000,
    'Sales Associate': 45000
}

multiplier = {
    'Bachelors': 3000,
    'Masters': 4000,
    'PhD': 5000
}

# ğŸ¯ Prediction block
if st.button("ğŸš€ Predict Salary"):
    predicted_salary = base_salary[job_title] + (experience * multiplier[education])
    st.markdown(f"""
        <div style='padding: 1em; background-color: #e8f5e9; border-left: 5px solid #4CAF50;'>
            <h3>ğŸ’¸ Estimated Salary: â‚¹{int(predicted_salary):,}</h3>
        </div>
    """, unsafe_allow_html=True)

# ğŸ“Š Graph block
with st.expander("ğŸ“ˆ Show Experience vs Salary Trend"):
    exp_range = list(range(0, 31))
    trend_salary = [base_salary[job_title] + (x * multiplier[education]) for x in exp_range]

    fig, ax = plt.subplots()
    ax.plot(exp_range, trend_salary, color='#4CAF50', linewidth=2)
    ax.set_title("Experience vs Salary")
    ax.set_xlabel("Years of Experience")
    ax.set_ylabel("Estimated Salary (â‚¹)")
    st.pyplot(fig)

st.markdown("""<hr style="border:1px solid #eee" />""", unsafe_allow_html=True)
st.markdown("Made with â¤ï¸ by Sneha Verma | [GitHub](https://github.com/)")
